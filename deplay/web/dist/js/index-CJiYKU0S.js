import{r as a,j as o,gU as x,V as I,hb as S,hc as C}from"./vendor-core-BL9Phd6R.js";import{A as D}from"./route-login-r9SQJoz-.js";import{u as j}from"./useSearchForm-DGLxIQDe.js";import"./route-layout-BrOgEPTf.js";const F=t=>D.post({url:"/iot/inventory-detail/query",data:t}),w=()=>{const[t,i]=a.useState(10),[s,d]=a.useState(1),[l,c]=a.useState(0),[m,n]=a.useState(!1),[r,u]=a.useState([]),p=[{label:"资产编码",name:"assetCode",component:o.jsx(I,{allowClear:!0})}],{SearchFormComponent:y}=j({getDataRequestFn:e=>g(e),onNewRecordFn:()=>{},formItems:p,formName:"inventoryDetailSearchForm",showAddBtn:!1}),g=e=>{n(!0),F({limit:t,offset:(s-1)*t,...e}).then(f=>{u(f.data.list),c(f.data.total)}).finally(()=>{n(!1)})},h=[{title:"资产ID",dataIndex:"assetId",key:"assetId"},{title:"资产编码",dataIndex:"assetCode",key:"assetCode"},{title:"标签码",dataIndex:"tagCode",key:"tagCode"},{title:"操作类型",dataIndex:"actionType",key:"actionType",render:e=>T[e]||e},{title:"操作时间",dataIndex:"actionTime",key:"actionTime",render:e=>e?x(e).format("YYYY-MM-DD HH:mm:ss"):"-"}];return a.useEffect(()=>{g()},[t,s]),{list:r,columns:h,SearchFormComponent:y,total:l,limit:t,loading:m,setPage:d,setLimit:i}},T={1:"入库",2:"出库",3:"盘点"},k=()=>{const{list:t,columns:i,SearchFormComponent:s,total:d,limit:l,loading:c,setPage:m,setLimit:n}=w();return o.jsxs(o.Fragment,{children:[s,o.jsx(S,{dataSource:t,loading:c,columns:i,bordered:!0,pagination:!1,rowKey:"recordId"}),o.jsx(C,{total:d,className:"flex justify-end mt-2",pageSize:l,onChange:r=>m(r),showSizeChanger:!0,onShowSizeChange:(r,u)=>n(u)})]})},R=a.memo(k);export{R as default};
