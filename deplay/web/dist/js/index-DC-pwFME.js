import{r as t,j as o,gU as x,V as y,S as C,hb as j,hc as I}from"./vendor-core-BL9Phd6R.js";import{g as w,a as F}from"./index-CIatPsxy.js";import{u as R}from"./useSearchForm-DGLxIQDe.js";import"./route-login-r9SQJoz-.js";import"./route-layout-BrOgEPTf.js";const T=()=>{const[a,i]=t.useState(10),[s,l]=t.useState(1),[c,m]=t.useState(0),[d,n]=t.useState(!1),[r,u]=t.useState([]),f=[{label:"资产编码",name:"assetCode",component:o.jsx(y,{allowClear:!0})},{label:"操作类型",name:"actionType",component:o.jsx(C,{allowClear:!0,options:[{label:"入库",value:1},{label:"出库",value:2}]})}],{SearchFormComponent:S}=R({getDataRequestFn:e=>g(e),onNewRecordFn:()=>{},formItems:f,formName:"ioRecordSearchForm",showAddBtn:!1}),g=e=>{n(!0),w({limit:a,offset:(s-1)*a,...e}).then(p=>{u(p.data.list),m(p.data.total)}).finally(()=>{n(!1)})},h=[{title:"资产编码",dataIndex:"assetCode",key:"assetCode"},{title:"操作类型",dataIndex:"actionType",key:"actionType",render:e=>F[e]||e},{title:"操作时间",dataIndex:"actionTime",key:"actionTime",render:e=>e?x(e).format("YYYY-MM-DD HH:mm:ss"):"-"}];return t.useEffect(()=>{g()},[a,s]),{list:r,columns:h,SearchFormComponent:S,total:c,limit:a,loading:d,setPage:l,setLimit:i}},b=()=>{const{list:a,columns:i,SearchFormComponent:s,total:l,limit:c,loading:m,setPage:d,setLimit:n}=T();return o.jsxs(o.Fragment,{children:[s,o.jsx(j,{dataSource:a,loading:m,columns:i,bordered:!0,pagination:!1,rowKey:"recordId"}),o.jsx(I,{total:l,className:"flex justify-end mt-2",pageSize:c,onChange:r=>d(r),showSizeChanger:!0,onShowSizeChange:(r,u)=>n(u)})]})},z=t.memo(b);export{z as default};
