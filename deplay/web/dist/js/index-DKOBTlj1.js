import{r as t,j as o}from"./vendor-react-BvY5jkjb.js";import{g as h,a as y}from"./index-BO69pAs_.js";import{u as C}from"./useSearchForm-DVBHnHbJ.js";import{e4 as j}from"./vendor-common-DvYBgWFG.js";import{l as I,S as w,O as F,Q as R}from"./vendor-antd-VwCNQJi5.js";import"./route-login-BWcqE1fc.js";import"./route-layout-33ldzD5l.js";import"./vendor-redux-D__shqzO.js";import"./vendor-router-C3iwmVt3.js";const T=()=>{const[a,i]=t.useState(10),[s,m]=t.useState(1),[l,c]=t.useState(0),[d,n]=t.useState(!1),[r,p]=t.useState([]),g=[{label:"资产编码",name:"assetCode",component:o.jsx(I,{allowClear:!0})},{label:"操作类型",name:"actionType",component:o.jsx(w,{allowClear:!0,options:[{label:"入库",value:1},{label:"出库",value:2}]})}],{SearchFormComponent:S}=C({getDataRequestFn:e=>u(e),onNewRecordFn:()=>{},formItems:g,formName:"ioRecordSearchForm",showAddBtn:!1}),u=e=>{n(!0),h({limit:a,offset:(s-1)*a,...e}).then(f=>{p(f.data.list),c(f.data.total)}).finally(()=>{n(!1)})},x=[{title:"资产编码",dataIndex:"assetCode",key:"assetCode"},{title:"操作类型",dataIndex:"actionType",key:"actionType",render:e=>y[e]||e},{title:"操作时间",dataIndex:"actionTime",key:"actionTime",render:e=>e?j(e).format("YYYY-MM-DD HH:mm:ss"):"-"}];return t.useEffect(()=>{u()},[a,s]),{list:r,columns:x,SearchFormComponent:S,total:l,limit:a,loading:d,setPage:m,setLimit:i}},b=()=>{const{list:a,columns:i,SearchFormComponent:s,total:m,limit:l,loading:c,setPage:d,setLimit:n}=T();return o.jsxs(o.Fragment,{children:[s,o.jsx(F,{dataSource:a,loading:c,columns:i,bordered:!0,pagination:!1,rowKey:"recordId"}),o.jsx(R,{total:m,className:"flex justify-end mt-2",pageSize:l,onChange:r=>d(r),showSizeChanger:!0,onShowSizeChange:(r,p)=>n(p)})]})},N=t.memo(b);export{N as default};
